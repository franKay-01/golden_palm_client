"use strict";(self.webpackChunkgolden_palm_client=self.webpackChunkgolden_palm_client||[]).push([[452],{2988:function(e,t,s){s.d(t,{Z:function(){return v}});var n=s(9439),a=s(2791),r=s(6088),l=s(5735),o=s(2721),i=s(4165),c=s(4942),d=s(1413),x=s(7762),h=s(5861),m=s(9051),u=s(4086),p=s(7613),f=s(184);function b(e){var t=e.isOpen,s=e.onClose,l=(0,a.useContext)(o.A),b=l.cart,g=l.removeFromCart,v=l.calculateTotal,j=l.changePrice,w=(0,a.useState)(""),N=(0,n.Z)(w,2),y=N[0],k=N[1],C=(0,a.useState)(""),Z=(0,n.Z)(C,2),_=Z[0],S=(Z[1],(0,a.useState)("")),O=(0,n.Z)(S,2),L=O[0],P=(O[1],(0,a.useState)("")),F=(0,n.Z)(P,2),T=F[0],E=(F[1],(0,a.useState)(!1)),z=(0,n.Z)(E,2),A=z[0],H=z[1],I=(0,a.useState)(!1),R=(0,n.Z)(I,2),q=R[0],$=R[1],B=(0,a.useState)({}),D=(0,n.Z)(B,2),U=D[0],G=D[1],K=(0,a.useRef)(null),M=(0,p.Z)(),Y=M.submitCheckOut,J=M.getProductDetail;(0,a.useEffect)((function(){var e=function(){var e=(0,h.Z)((0,i.Z)().mark((function e(){var t,s,n,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=b.filter((function(e){return e.heat_level&&"product"===e.type})),s=(0,x.Z)(t),e.prev=2,a=(0,i.Z)().mark((function e(){var t,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.value,U[t.id]){e.next=6;break}return e.next=4,J(t.id);case 4:"000"===(s=e.sent).response_code&&s.product.variations&&G((function(e){return(0,d.Z)((0,d.Z)({},e),{},(0,c.Z)({},t.id,s.product))}));case 6:case"end":return e.stop()}}),e)})),s.s();case 5:if((n=s.n()).done){e.next=9;break}return e.delegateYield(a(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),s.e(e.t1);case 14:return e.prev=14,s.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}();t&&b.length>0&&e()}),[t,b]);var Q=function(e){var t;if(e.heat_level&&null!==(t=U[e.id])&&void 0!==t&&t.variations){var s=U[e.id].variations.find((function(t){return t.heat_level.toLowerCase()===e.heat_level.toLowerCase()}));return s?s.img_url:e.img_url}return e.img_url};if((0,a.useEffect)((function(){t&&b.length>0&&K.current&&(window.innerWidth<768&&setTimeout((function(){var e;null===(e=K.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest"})}),300))}),[t,b.length]),!t)return null;var V=function(e,t){t<1||j(e.id,t,e.heat_level)},W=function(){var e=(0,h.Z)((0,i.Z)().mark((function e(){var t,s,n,a,r,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.trim()){e.next=3;break}return(0,u.L)("error","Please enter your zipcode"),e.abrupt("return");case 3:return H(!0),t={zipcode:y,email:_,shipping_address:L,phone_number:T||null,cart:b},console.log(JSON.stringify(t)),e.next=8,Y(t);case 8:s=e.sent,n=s.response_code,a=s.checkout_url,r=s.error,l=s.msg,200===n&&!r&&a?window.location.href=a:(H(!1),(0,u.L)("error",l||"Checkout failed. Please try again."));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,f.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:s}),(0,f.jsxs)("div",{className:"relative bg-white rounded-[2rem] shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-scroll md:overflow-hidden",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[(0,f.jsx)("h2",{className:"text-[2.3rem] font-caslon text-black",children:q?"Checkout Information":"Shopping Cart"}),(0,f.jsx)("button",{onClick:function(){q?$(!1):s()},className:"text-black hover:text-gp-yellow transition-colors",children:(0,f.jsx)(r.Z,{size:24})})]}),q?(0,f.jsxs)("div",{className:"flex flex-col md:flex-row overflow-hidden max-h-[calc(90vh-100px)]",children:[(0,f.jsx)("div",{className:"flex-1 px-6 py-6 overflow-y-auto",children:(0,f.jsx)("div",{className:"space-y-4",children:(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"block text-sm text-gray-700 font-canaro-book mb-2",children:["Zipcode ",(0,f.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,f.jsx)("input",{type:"text",value:y,onChange:function(e){return k(e.target.value)},placeholder:"Enter zipcode",className:"w-full px-3 text-gray-700 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gp-yellow",maxLength:"10"})]})})}),(0,f.jsxs)("div",{className:"w-full md:w-80 bg-gp-light-green px-6 py-6 border-l",children:[(0,f.jsx)("h3",{className:"text-[1.5rem] font-caslon text-gp-yellow mb-4",children:"Order Summary"}),(0,f.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,f.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,f.jsxs)("span",{className:"text-gp-yellow font-canaro-book",children:["Items (",b.length,")"]}),(0,f.jsxs)("span",{className:"text-gp-yellow font-canaro-book",children:["$",v().toFixed(2)]})]}),(0,f.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,f.jsx)("span",{className:"text-gp-yellow font-canaro-book",children:"Shipping"}),(0,f.jsx)("span",{className:"text-gp-yellow font-canaro-book",children:"Calculated at checkout"})]}),(0,f.jsxs)("div",{className:"border-t border-gp-yellow pt-3 flex justify-between",children:[(0,f.jsx)("span",{className:"text-base text-gp-yellow font-canaro-semibold",children:"Total"}),(0,f.jsxs)("span",{className:"text-lg text-gp-yellow font-canaro-semibold",children:["$",v().toFixed(2)]})]})]}),(0,f.jsxs)("div",{className:"space-y-3",children:[(0,f.jsx)("button",{onClick:W,disabled:A,className:"block w-full bg-gp-yellow text-white text-center py-3 px-4 rounded-md font-canaro-book transition-colors hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed",children:A?"PROCESSING...":"COMPLETE CHECKOUT"}),(0,f.jsx)("button",{onClick:function(){return $(!1)},className:"block w-full bg-transparent border border-gp-yellow text-gp-yellow text-center py-3 px-4 rounded-md font-canaro-book transition-colors hover:bg-gp-yellow hover:text-white",children:"Back to Cart"})]})]})]}):0===b.length?(0,f.jsxs)("div",{className:"text-center py-12",children:[(0,f.jsx)("p",{className:"text-gray-500",children:"Your cart is empty"}),(0,f.jsx)("button",{onClick:s,className:"mt-4 text-[#445717] hover:text-green-700 font-medium",children:"Continue Shopping"})]}):(0,f.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,f.jsx)("div",{className:"flex-1 overflow-y-auto px-6 py-6 max-h-[calc(90vh-200px)]",children:(0,f.jsx)("div",{className:"space-y-8",children:b.map((function(e){var t;return(0,f.jsxs)("div",{className:"flex gap-4 border-b pb-4",children:[(0,f.jsx)("div",{className:"flex-shrink-0",children:(0,f.jsx)("img",{src:"http://localhost:5001".concat(Q(e)),alt:e.name,className:"w-24 h-24 object-cover rounded"})}),(0,f.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,f.jsx)("h3",{className:"text-base font-caslon text-gp-light-green",children:e.name}),e.heat_level&&(0,f.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Heat Level: ",e.heat_level]}),"bundle"===e.type&&(0,f.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:null===(t=e.product_details)||void 0===t?void 0:t.map((function(e){return e.name})).join(" + ")}),(0,f.jsxs)("div",{className:"flex items-center gap-3 mt-3",children:[(0,f.jsx)("button",{onClick:function(){return V(e,e.quantity-1)},className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100",children:"-"}),(0,f.jsx)("span",{className:"text-md w-8 text-gp-light-green text-center font-canaro-book",children:e.quantity}),(0,f.jsx)("button",{onClick:function(){return V(e,e.quantity+1)},className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100",children:"+"})]})]}),(0,f.jsxs)("div",{className:"flex flex-col items-end justify-between",children:[(0,f.jsxs)("p",{className:"text-base font-canaro-semibold text-gp-light-green",children:["$",(e.unit_price*e.quantity).toFixed(2)]}),(0,f.jsx)("button",{onClick:function(){return g(e.id,e.heat_level)},className:"text-red-500 hover:text-red-700 transition-colors",children:(0,f.jsx)(m.Z,{size:18})})]})]},"".concat(e.id,"-").concat(e.heat_level))}))})}),(0,f.jsxs)("div",{ref:K,className:"w-full md:w-80 bg-gp-light-green px-6 py-6 border-l",children:[(0,f.jsx)("h3",{className:"text-[1.5rem] font-caslon text-gp-yellow mb-4",children:"Summary"}),(0,f.jsxs)("div",{className:"space-y-7 mb-6",children:[(0,f.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,f.jsxs)("span",{className:"text-gp-yellow font-canaro-book",children:["Items (",b.length,")"]}),(0,f.jsxs)("span",{className:"text-gp-yellow font-canaro-book",children:["$",v().toFixed(2)]})]}),(0,f.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,f.jsx)("span",{className:"text-gp-yellow font-canaro-book",children:"Shipping"}),(0,f.jsx)("span",{className:"text-gp-yellow font-canaro-book",children:"Calculated at checkout"})]}),(0,f.jsxs)("div",{className:"border-t pt-3 flex justify-between",children:[(0,f.jsx)("span",{className:"text-base text-gp-yellow font-canaro-semibold",children:"Total"}),(0,f.jsxs)("span",{className:"text-lg text-gp-yellow font-canaro-semibold",children:["$",v().toFixed(2)]})]})]}),(0,f.jsx)("button",{onClick:function(){return $(!0)},className:"block w-full bg-gp-yellow text-white text-center py-3 px-4 rounded-md font-canaro-book transition-colors mb-3 hover:bg-yellow-600",children:"CHECKOUT"}),(0,f.jsx)("button",{onClick:s,className:"block w-full text-center text-sm text-white hover:text-gp-yellow py-2",children:"Continue Shopping"})]})]})]})]})}var g=s.p+"static/media/basket.cd642fa710b3221e0c61.png";function v(){var e=(0,a.useState)(!1),t=(0,n.Z)(e,2),s=t[0],i=t[1],c=(0,a.useState)(!1),d=(0,n.Z)(c,2),x=d[0],h=d[1],m=(0,a.useContext)(o.A).getCartItemCount;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"bg-gradient-to-b from-[#445717] to-[#445717]",children:(0,f.jsxs)("header",{className:"p-4",children:[(0,f.jsxs)("nav",{className:"flex justify-between items-center max-w-7xl mx-auto",children:[(0,f.jsxs)("div",{className:"hidden lg:flex space-x-4 lg:space-x-8 text-white text-sm font-medium",children:[(0,f.jsx)("a",{href:"/",className:"hover:text-orange-300 transition-colors",children:"Home"}),(0,f.jsx)("a",{href:"/our-story",className:"hover:text-orange-300 transition-colors",children:"About us"}),(0,f.jsx)("a",{href:"/bundle",className:"hover:text-orange-300 transition-colors",children:"Shop"}),(0,f.jsx)("a",{href:"/recipes",className:"hover:text-orange-300 transition-colors",children:"Mama Carmen's Recipes"})]}),(0,f.jsx)("div",{className:"hidden lg:flex items-center",children:(0,f.jsxs)("button",{onClick:function(){return h(!0)},className:"relative text-white hover:text-orange-300 transition-colors",children:[(0,f.jsx)("img",{src:g,className:"w-[4rem] h-[4rem]"}),m()>0&&(0,f.jsx)("span",{className:"absolute -top-2 right-0 bg-orange-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:m()})]})}),(0,f.jsxs)("div",{className:"lg:hidden flex items-center gap-4 ml-auto",children:[(0,f.jsxs)("button",{onClick:function(){return h(!0)},className:"relative text-white",children:[(0,f.jsx)("img",{src:g,className:"w-[3rem] h-[3rem]"}),m()>0&&(0,f.jsx)("span",{className:"absolute -top-2 -right-2 bg-orange-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:m()})]}),(0,f.jsx)("button",{onClick:function(){return i(!s)},className:"text-white p-2 hover:bg-green-600 rounded transition-colors",children:(0,f.jsx)("div",{className:"",children:(0,f.jsx)("div",{className:"w-12 h-12 bg-white/10 backdrop-blur-sm rounded-2xl border-2 border-white/30 flex items-center justify-center",children:(0,f.jsxs)("div",{className:"space-y-1.5",children:[(0,f.jsx)("div",{className:"w-8 h-0.5 bg-white rounded"}),(0,f.jsx)("div",{className:"w-8 h-0.5 bg-white rounded"}),(0,f.jsx)("div",{className:"w-8 h-0.5 bg-white rounded"})]})})})})]})]}),s&&(0,f.jsxs)("div",{className:"fixed py-8 pt-[7rem] top-0 right-0 h-full w-80 bg-gp-light-green shadow-2xl transform transition-transform duration-300 ease-in-out z-50 ".concat(s?"translate-x-0":"translate-x-full"),style:{borderTopLeftRadius:"2rem",borderBottomLeftRadius:"2rem"},children:[(0,f.jsx)("div",{onClick:function(){return i(!1)},className:"absolute top-6 right-6",children:(0,f.jsx)("div",{className:"w-16 h-16 bg-white/10 backdrop-blur-sm rounded-2xl border-2 border-white/30 flex items-center justify-center",children:(0,f.jsxs)("div",{className:"space-y-1.5",children:[(0,f.jsx)("div",{className:"w-8 h-0.5 bg-white rounded"}),(0,f.jsx)("div",{className:"w-8 h-0.5 bg-white rounded"}),(0,f.jsx)("div",{className:"w-8 h-0.5 bg-white rounded"})]})})}),(0,f.jsx)("button",{onClick:function(){return i(!1)},className:"absolute top-6 left-6 w-10 h-10 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center hover:bg-white/20 transition-colors",children:(0,f.jsx)(r.Z,{className:"w-5 h-5 text-white"})}),(0,f.jsxs)("nav",{className:"flex flex-col justify-center h-full px-8 space-y-1",children:[(0,f.jsx)("div",{className:"lg:hidden",children:[{name:"Home",path:"/"},{name:"About Us",path:"/our-story"},{name:"Shop",path:"/bundle"},{name:"Bundles",path:"/bundles?bt=all"}].map((function(e,t){return(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("a",{href:e.path,className:"block text-white text-right py-4 text-xl font-medium hover:text-amber-300 transition-colors relative",onClick:function(t){t.preventDefault(),window.location.href=e.path,i(!1)},children:e.name}),(0,f.jsx)("div",{className:"absolute bottom-2 right-0 w-16 h-0.5 bg-amber-400/60"})]},t)}))}),[{name:"Recipes",path:"/recipes"},{name:"Terms & conditions",path:"/terms"},{name:"Privacy Policy",path:"/privacy"},{name:"FAQ",path:"/faq"},{name:"Contact",path:"/contact"}].map((function(e,t){return(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("a",{href:e.path,className:"block text-white text-right py-4 text-xl font-medium hover:text-amber-300 transition-colors relative",onClick:function(t){t.preventDefault(),window.location.href=e.path,i(!1)},children:e.name}),(0,f.jsx)("div",{className:"absolute bottom-2 right-0 w-16 h-0.5 bg-amber-400/60"})]},t)}))]})]}),(0,f.jsx)("div",{className:"text-center py-2 md:py-2",children:(0,f.jsx)("div",{className:"flex items-center justify-center space-x-2 md:space-x-3",children:(0,f.jsx)("a",{href:"/",children:(0,f.jsx)("img",{src:l,className:"w-[25rem] h-[4rem]",alt:"Golden Palm Foods"})})})})]})}),(0,f.jsx)(b,{isOpen:x,onClose:function(){return h(!1)}})]})}},4086:function(e,t,s){s.d(t,{L:function(){return a}});var n=s(5985),a=function(e,t){n.Am[e](t,{position:"top-right",className:"font-light text-sm",autoClose:5e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!1,draggable:!1,progress:void 0})}},5735:function(e,t,s){e.exports=s.p+"static/media/logo_alt.418613d4a25c024545ea.png"}}]);
//# sourceMappingURL=452.4ff2a575.chunk.js.map