/*! For license information please see 266.3c926bdd.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkgolden_palm_client=self.webpackChunkgolden_palm_client||[]).push([[266],{2319:function(e,t,r){r.d(t,{Z:function(){return n}});r(2791);var s=r.p+"static/media/loader.2c27fff63f8da67db536b5ca8ceb2a57.svg",a=r(184);function n(e){var t=e.alt?"grid":"grid h-screen-custom place-items-center";return(0,a.jsx)("div",{className:t,children:(0,a.jsx)("img",{className:"w-28 h-28",src:s})})}},2699:function(e,t,r){r.r(t),r.d(t,{default:function(){return g}});var s=r(4165),a=r(3433),n=r(5861),o=r(9439),l=r(2791),i=r(7689),c=r(1087),d=r(933),m=r(7613),u=r(4086),x=r(2204),p=r(1171),h=r(2319),f=r(184);function g(){var e=(0,i.UO)().orderReference,t=(0,c.lr)(),r=(0,o.Z)(t,1)[0].get("token"),g=(0,l.useState)([]),b=(0,o.Z)(g,2),v=b[0],y=b[1],j=(0,l.useState)(null),N=(0,o.Z)(j,2),w=N[0],_=N[1],k=(0,l.useState)(!0),Z=(0,o.Z)(k,2),S=Z[0],L=Z[1],F=(0,l.useState)(!1),D=(0,o.Z)(F,2),C=D[0],O=D[1],W=(0,l.useState)(0),M=(0,o.Z)(W,2),A=M[0],E=M[1],R=(0,l.useState)(0),q=(0,o.Z)(R,2),z=q[0],I=q[1],P=(0,l.useState)(""),$=(0,o.Z)(P,2),H=$[0],T=$[1],U=(0,l.useState)([]),B=(0,o.Z)(U,2),V=(B[0],B[1]),Y=(0,m.Z)(),Q=Y.submitReview,G=Y.getOrdersDetailsForReview;(0,l.useEffect)((function(){var t=function(){var t=(0,n.Z)((0,s.Z)().mark((function t(){var n,o,l,i,c,d,m;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&r){t.next=4;break}return(0,u.L)("error","Invalid review link"),L(!1),t.abrupt("return");case 4:return L(!0),t.prev=5,t.next=8,G(e);case 8:"000"===(n=t.sent).response_code?(o=n.orders,l=o.orderItems.map((function(e){return{order_item_reference_no:e.order_item_reference_no,item_reference_no:e.item_reference_no,item_type:e.item_type,quantity:e.quantity,unit_amount:e.unit_amount,desc:e.desc,heat_level:e.heat_level,itemDetails:e.itemDetails}})),i=(0,a.Z)(new Set(l.map((function(e){return e.item_type})))),V(i),c="",d=i.includes("product"),m=i.includes("bundle"),d&&m?c="bundle and product":m?c="bundle":d&&(c="product"),_({order_reference:o.order_custom_id,reference_no:o.reference_no,created_at:o.createdAt,item_type:c,status:o.status?"completed":"pending",total_amount:o.amount,quantity:o.quantity,other_info:o.other_info}),y(l)):(0,u.L)("error","Failed to load order details"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),console.error("Error loading order data:",t.t0),(0,u.L)("error","Failed to load order details");case 16:L(!1);case 17:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(){return t.apply(this,arguments)}}();t()}),[e,r]);var J=function(e){I(e)},K=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(t){var a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==A){e.next=4;break}return(0,u.L)("error","Please provide a rating"),e.abrupt("return");case 4:return O(!0),e.next=7,Q({order_id:w.reference_no,item_type:w.item_type,rating:A,comment:H.trim()||null,token:r});case 7:"000"===(a=e.sent).response_code?((0,u.L)("success","Thank you for your review!"),E(0),I(0),T(""),window.location.href="/"):(0,u.L)("error",a.msg||"Failed to submit review. Please try again."),O(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){return(0,f.jsx)("div",{className:"flex gap-1 sm:gap-2",children:[1,2,3,4,5].map((function(e){return(0,f.jsx)("button",{type:"button",onClick:function(){E(e)},onMouseEnter:function(){return J(e)},onMouseLeave:function(){return J(0)},className:"focus:outline-none transition-transform hover:scale-110",children:(0,f.jsx)(d.Z,{size:window.innerWidth<640?32:40,className:"".concat(e<=(z||A)?"fill-gp-yellow text-gp-yellow":"text-gray-300"," transition-colors")})},e)}))})};if(S)return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x.Z,{}),(0,f.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,f.jsx)(h.Z,{})}),(0,f.jsx)(p.Z,{})]});if(!w||0===v.length)return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x.Z,{}),(0,f.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-8 sm:py-10 md:py-12",children:(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-caslon text-gp-light-green mb-4",children:"Order Not Found"}),(0,f.jsx)("p",{className:"text-gray-600 font-canaro-book text-sm sm:text-base",children:"We couldn't find the order you're looking for. Please check your link and try again."})]})}),(0,f.jsx)(p.Z,{})]});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x.Z,{}),(0,f.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8 sm:py-10 md:py-12",children:[(0,f.jsxs)("div",{className:"text-center mb-8 sm:mb-10 md:mb-12",children:[(0,f.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-caslon text-gp-light-green mb-3 sm:mb-4",children:"Share Your Experience"}),(0,f.jsxs)("p",{className:"text-gray-600 font-canaro-book text-base sm:text-lg",children:["Order #",w.order_reference]}),(0,f.jsxs)("p",{className:"text-gray-500 font-canaro-light text-sm sm:text-base",children:["Placed on ",new Date(w.created_at).toLocaleDateString()]}),(0,f.jsx)("p",{className:"text-gray-600 font-canaro-light mt-2 text-sm sm:text-base",children:"We'd love to hear what you think about your purchase!"})]}),(0,f.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[(0,f.jsx)("div",{className:"lg:col-span-1",children:(0,f.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-5 md:p-6 lg:sticky lg:top-4",children:[(0,f.jsx)("h2",{className:"text-xl sm:text-2xl font-caslon text-gp-light-green mb-3 sm:mb-4",children:"Order Summary"}),(0,f.jsxs)("div",{className:"space-y-2 sm:space-y-3 mb-4 sm:mb-6",children:[(0,f.jsxs)("div",{className:"flex justify-between font-canaro-book text-xs sm:text-sm",children:[(0,f.jsx)("span",{className:"text-gray-600",children:"Order ID:"}),(0,f.jsx)("span",{className:"text-gray-900",children:w.order_reference})]}),(0,f.jsxs)("div",{className:"flex justify-between font-canaro-book text-xs sm:text-sm",children:[(0,f.jsx)("span",{className:"text-gray-600",children:"Items:"}),(0,f.jsx)("span",{className:"text-gray-900",children:w.quantity})]}),(0,f.jsxs)("div",{className:"flex justify-between font-canaro-semibold border-t pt-2 sm:pt-3",children:[(0,f.jsx)("span",{className:"text-gray-700 text-sm sm:text-base",children:"Total:"}),(0,f.jsxs)("span",{className:"text-gp-light-green text-base sm:text-lg",children:["$",parseFloat(w.total_amount).toFixed(2)]})]})]}),(0,f.jsxs)("div",{className:"border-t pt-3 sm:pt-4",children:[(0,f.jsx)("h3",{className:"font-canaro-semibold text-gray-700 mb-2 sm:mb-3 text-sm sm:text-base",children:"Items in Order"}),(0,f.jsx)("div",{className:"space-y-2 sm:space-y-3",children:null===v||void 0===v?void 0:v.map((function(e){var t,r;return(0,f.jsxs)("div",{className:"flex gap-2 sm:gap-3 pb-2 sm:pb-3 border-b last:border-b-0",children:[(null===(t=e.itemDetails)||void 0===t?void 0:t.img_url)&&(0,f.jsx)("img",{src:"https://api.goldenpalmfoods.com".concat(e.itemDetails.img_url),alt:e.itemDetails.name,className:"w-12 h-12 sm:w-16 sm:h-16 object-cover rounded"}),(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsx)("p",{className:"font-canaro-semibold text-xs sm:text-sm text-gray-900",children:(null===(r=e.itemDetails)||void 0===r?void 0:r.name)||e.desc}),(0,f.jsxs)("p",{className:"text-[10px] sm:text-xs text-gray-600 font-canaro-light",children:["Qty: ",e.quantity," \xd7 $",parseFloat(e.unit_amount).toFixed(2)]}),e.heat_level&&(0,f.jsxs)("p",{className:"text-[10px] sm:text-xs text-gray-500 font-canaro-light",children:["Heat: ",e.heat_level]})]})]},e.order_item_reference_no)}))})]})]})}),(0,f.jsx)("div",{className:"lg:col-span-2",children:(0,f.jsx)("form",{onSubmit:K,className:"space-y-6 sm:space-y-8",children:(0,f.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 sm:p-6 md:p-8",children:[(0,f.jsx)("h2",{className:"text-2xl sm:text-3xl font-caslon text-gp-light-green mb-4 sm:mb-6",children:"Rate Your Order"}),(0,f.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,f.jsx)("label",{className:"block text-gray-700 font-canaro-semibold mb-2 sm:mb-3 text-base sm:text-lg",children:"How would you rate your overall experience?"}),(0,f.jsx)(X,{})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-gray-700 font-canaro-semibold mb-2 sm:mb-3 text-base sm:text-lg",children:"Tell us about your experience (Optional)"}),(0,f.jsx)("textarea",{value:H,onChange:function(e){return T(e.target.value.slice(0,300))},placeholder:"Share your thoughts about the products, delivery, packaging, or anything else...",className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-gp-light-green font-canaro-book",rows:"6",maxLength:300}),(0,f.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:[H.length,"/",300," characters"]})]}),(0,f.jsx)("div",{className:"mt-6 sm:mt-8",children:(0,f.jsx)("button",{type:"submit",disabled:C,className:"w-full bg-gp-light-green text-white px-8 sm:px-12 py-3 sm:py-4 rounded-lg text-base sm:text-lg font-canaro-semibold hover:bg-green-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Submitting...":"Submit Review"})})]})})})]})]}),(0,f.jsx)(p.Z,{})]})}},9100:function(e,t,r){r.d(t,{Z:function(){return p}});var s=r(1413),a=r(5987),n=r(2791),o=function(e){var t=function(e){return e.replace(/^([A-Z])|[\s-_]+(\w)/g,(function(e,t,r){return r?r.toUpperCase():t.toLowerCase()}))}(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e,t,r){return Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t})).join(" ").trim()},i=r(9439),c=r(3433),d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},m=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],u=(0,n.forwardRef)((function(e,t){var r=e.color,o=void 0===r?"currentColor":r,u=e.size,x=void 0===u?24:u,p=e.strokeWidth,h=void 0===p?2:p,f=e.absoluteStrokeWidth,g=e.className,b=void 0===g?"":g,v=e.children,y=e.iconNode,j=(0,a.Z)(e,m);return(0,n.createElement)("svg",(0,s.Z)((0,s.Z)((0,s.Z)({ref:t},d),{},{width:x,height:x,stroke:o,strokeWidth:f?24*Number(h)/Number(x):h,className:l("lucide",b)},!v&&!function(e){for(var t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0}(j)&&{"aria-hidden":"true"}),j),[].concat((0,c.Z)(y.map((function(e){var t=(0,i.Z)(e,2),r=t[0],s=t[1];return(0,n.createElement)(r,s)}))),(0,c.Z)(Array.isArray(v)?v:[v])))})),x=["className"],p=function(e,t){var r=(0,n.forwardRef)((function(r,i){var c,d=r.className,m=(0,a.Z)(r,x);return(0,n.createElement)(u,(0,s.Z)({ref:i,iconNode:t,className:l("lucide-".concat((c=o(e),c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),d)},m))}));return r.displayName=o(e),r}},933:function(e,t,r){r.d(t,{Z:function(){return s}});var s=(0,r(9100).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},9051:function(e,t,r){r.d(t,{Z:function(){return s}});var s=(0,r(9100).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},6088:function(e,t,r){r.d(t,{Z:function(){return s}});var s=(0,r(9100).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}}]);
//# sourceMappingURL=266.3c926bdd.chunk.js.map